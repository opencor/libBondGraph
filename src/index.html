<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Simple test</title>
    <script type="text/javascript" src="BondGraph_WASM.js"></script>
</head>

<body>
    <script>
        var bgjson = {"Provenance":{"authors":"Jagir","description":"Simple RC example without source","directory":"D:/GithubRepositories/bguistandalone/build/Debug/QTPackaging/Examples/RC","projectname":"RC circuit"},"counter":10,"sceneItems":{"0_1":{"definition":{"annotation":{"Annotation":{"bio:encodes":[],"bio:hasPart":[],"bio:hasProperty":[],"bio:hasTaxon":[],"bio:hasVersion":[],"bio:is":[],"bio:isDescribedBy":[],"bio:isEncodedBy":[],"bio:isHomologTo":[],"bio:isPartOf":[],"bio:isPropertyOf":[],"bio:isVersionOf":[],"bio:occursIn":[],"model:hasInstance":[],"model:is":[],"model:isDerivedFrom":[],"model:isDescribedBy":[],"model:isInstanceOf":[]},"ElementDefinition":{"class":"junction","description":"Equal Effort Junction","domain":"Generic","equate":["e_"],"name":"ZeroJunction","ports":{"limit":100},"shortname":"0","type":"ZeroJunction","variableprefix":"Zero"},"constitutive_relations":"","statesAndParameters":[]},"displayname":"0_1","iconLeft":-25,"iconTop":-25,"itemFlags":3,"maxPorts":100,"mid":"0_1","ports":{"Port 1":{"align":132,"anchorSize":{"height":51.0,"width":51.0,"x":-25.5,"y":-25.5},"canDelete":false,"colour":"#000000","direction":0,"id":"Port 1","position":{"x":0.0,"y":0.0}},"Port 2":{"align":-1,"anchorSize":{"height":0.0,"width":0.0,"x":0.0,"y":0.0},"canDelete":true,"colour":"#a0a0a4","direction":0,"id":"Port 2","position":{"x":-67.99998642060609,"y":0.2800366540041068}},"Port 3":{"align":-1,"anchorSize":{"height":0.0,"width":0.0,"x":0.0,"y":0.0},"canDelete":true,"colour":"#a0a0a4","direction":0,"id":"Port 3","position":{"x":67.99921263445822,"y":-2.239253689337602}}},"position":{"x":2775.0,"y":2675.0},"proxy":1,"sceneitem":{"attrib":{"bgClass":"junction","shape":"","size":0.0},"label":""},"shortname":"0_%1","size":{"height":50.0,"width":50.0},"type":"ZeroJunction","zValue":0.0},"order":2,"typeId":"BGElement"},"BGCn10":{"definition":{"bendFactor":0,"controlPoint":{"x":2950.0,"y":2673.9321130629824},"controlPos":{"x":2950.0,"y":2673.9321130629824},"first":"C_3","firstPort":"Port 1","sceneitem":{"attrib":null,"label":""},"second":"0_1","secondPort":"Port 3","type":"BGDConnection"},"order":3,"typeId":"BGDConnection"},"BGCn9":{"definition":{"bendFactor":0,"controlPoint":{"x":2612.5,"y":2675.1332234810757},"controlPos":{"x":2612.5,"y":2675.1332234810757},"first":"R_2","firstPort":"Port 1","sceneitem":{"attrib":null,"label":""},"second":"0_1","secondPort":"Port 2","type":"BGDConnection"},"order":4,"typeId":"BGDConnection"},"C_3":{"definition":{"annotation":{"Annotation":{"bio:encodes":[],"bio:hasPart":[],"bio:hasProperty":[],"bio:hasTaxon":[],"bio:hasVersion":[],"bio:is":[],"bio:isDescribedBy":[],"bio:isEncodedBy":[],"bio:isHomologTo":[],"bio:isPartOf":[],"bio:isPropertyOf":[],"bio:isVersionOf":[],"bio:occursIn":[],"model:hasInstance":[],"model:is":[],"model:isDerivedFrom":[],"model:isDescribedBy":[],"model:isInstanceOf":[]},"ElementDefinition":{"class":"passive","constitutive_relations":["q_0 - C * e_0","dot_q_0 - f_0"],"description":"Linear Capacitor","domain":"Electrical","name":"Capacitor","parameters":{"C":{"description":"Capacitance","dimension":"Farad","value":1}},"ports":null,"shortname":"C","states":{"q_0":{"description":"Electric charge","dimension":"coulomb","value":0}},"type":"Capacitance","variableprefix":"C"},"constitutive_relations":"q_0 - C * e_0\ndot_q_0 - f_0","statesAndParameters":[{"description":"Electric charge","dimension":"coulomb","isState":true,"name":"q_0","value":{"value":1.0}},{"description":"Capacitance","dimension":"Farad","isState":false,"name":"C","value":1}]},"displayname":"C_3","iconLeft":-25,"iconTop":-25,"itemFlags":3,"maxPorts":1,"mid":"C_3","ports":{"Port 1":{"align":1,"anchorSize":{"height":51.0,"width":51.0,"x":-25.5,"y":-25.5},"canDelete":true,"colour":"#a0a0a4","direction":0,"id":"Port 1","position":{"x":-25.0,"y":0.0}}},"position":{"x":3125.0,"y":2675.0},"proxy":1,"sceneitem":{"attrib":{"bgClass":"passive","shape":"square","size":0.0},"label":""},"shortname":"C_%1","size":{"height":50.0,"width":50.0},"type":"Capacitance","zValue":0.0},"order":0,"typeId":"BGElement"},"R_2":{"definition":{"annotation":{"Annotation":{"bio:encodes":[],"bio:hasPart":[],"bio:hasProperty":[],"bio:hasTaxon":[],"bio:hasVersion":[],"bio:is":[],"bio:isDescribedBy":[],"bio:isEncodedBy":[],"bio:isHomologTo":[],"bio:isPartOf":[],"bio:isPropertyOf":[],"bio:isVersionOf":[],"bio:occursIn":[],"model:hasInstance":[],"model:is":[],"model:isDerivedFrom":[],"model:isDescribedBy":[],"model:isInstanceOf":[]},"ElementDefinition":{"class":"passive","constitutive_relations":["e_0 - f_0*r"],"description":"Linear Resistor","domain":"Electrical","name":"Resistor","parameters":{"r":{"description":"Resistance","dimension":"Ohm","universalConstant":false,"value":1}},"ports":null,"shortname":"R","type":"Resistance","variableprefix":"R"},"constitutive_relations":"e_0 - f_0*r","statesAndParameters":[{"description":"Resistance","dimension":"Ohm","isState":false,"name":"r","universalConstant":false,"value":1}]},"displayname":"R_2","iconLeft":-25,"iconTop":-25,"itemFlags":3,"maxPorts":1,"mid":"R_2","ports":{"Port 1":{"align":2,"anchorSize":{"height":51.0,"width":51.0,"x":-25.5,"y":-25.5},"canDelete":true,"colour":"#a0a0a4","direction":0,"id":"Port 1","position":{"x":25.0,"y":0.0}}},"position":{"x":2450.0,"y":2675.0},"proxy":1,"sceneitem":{"attrib":{"bgClass":"passive","shape":"square","size":0.0},"label":""},"shortname":"R_%1","size":{"height":50.0,"width":50.0},"type":"Resistance","zValue":0.0},"order":1,"typeId":"BGElement"}},"versionId":12}
        var bjson_ = JSON.stringify(bgjson);
        Module.onRuntimeInitialized = () => {
            console.log('Factory Methods \n ' + Module.getSupportedPhysicalDomainsAndFactoryMethods());
            console.log('CellML \n ' + Module.generateCellMLForBondgraph(bjson_));
            console.log('PHS \n ' + Module.generatePortHamiltonian(bjson_));
        };        
    </script>
</body>

</html>